---
sidebar: sidebar 
permalink: manage-data/data-cloning.html 
keywords: data cloning, clone data, cloning data, luns, namespaces, clone storage units, clone, cloning, clone consistency groups 
summary: 克隆ASA R2上的存储单元和一致性组以创建数据副本、以便在生产环境之外用于各种用途。 
searchtitle: 使用ONTAP System Manager克隆数据| ASA R2 
---
= 克隆ASA R2存储系统上的数据
:hardbreaks:
:allow-uri-read: 
:nofooter: 
:icons: font
:linkattrs: 
:imagesdir: ../media/


[role="lead"]
数据克隆使用ONTAP系统管理器在ASA R2系统上创建存储单元和一致性组的副本、可用于应用程序开发、测试、备份、数据迁移或其他管理功能。



== 克隆存储单元

克隆存储单元时、您需要在ASA R2系统上创建一个新存储单元、此存储单元是您克隆的存储单元的时间点可写副本。

.步骤
. 在System Manager中，选择*Storage*。
. 将鼠标悬停在要克隆的存储单元的名称上。
. 选择image:icon_kabob.gif["三个垂直蓝点"]；然后选择*Clone。
. 接受要创建为克隆的新存储单元的默认名称、或者输入新名称。
. 选择主机操作系统。
+
默认情况下、系统会为此克隆创建一个新快照。

. 如果要使用现有快照、创建新主机组或添加新主机，请选择*更多选项*。
+
[cols="2"]
|===
| 选项 | 步骤 


 a| 
使用现有快照
 a| 
.. 在*要克隆的快照*下，选择*使用现有的snaphot*。
.. 选择要用于克隆的快照。




 a| 
创建新主机组
 a| 
.. 在*主机映射*下，选择*新主机组*。
.. 输入新主机组的名称；然后选择要包含在该组中的主机启动程序。




 a| 
添加新主机
 a| 
.. 在*主机映射*下，选择*新主机*。
.. 输入新主机的名称；然后选择*FC*或*iSCSI*。
.. 从现有启动程序列表中选择主机启动程序，或者选择*Add*为主机添加新启动程序。


|===
. 选择 * 克隆 * 。


.下一步是什么？
您已创建与克隆的存储单元相同的新存储单元。现在、您可以根据需要使用新存储单元。



== 克隆一致性组

克隆一致性组时、您需要创建一个新的一致性组、该一致性组的结构、存储单元和数据与克隆的一致性组完全相同。使用一致性组克隆执行应用程序测试或迁移数据。例如、假设您需要将生产工作负载从一致性组中迁移出来。您可以克隆一致性组、为生产工作负载创建一份副本、以便在迁移完成之前作为备份进行维护。

克隆是从要克隆的一致性组的快照创建的。用于克隆的快照是在默认情况下启动克隆过程的时间点创建的。您可以修改默认行为以使用已有快照。

存储单元映射会在克隆过程中进行复制。克隆过程不会复制Snapshot策略。

您可以从ASA R2系统本地存储的一致性组或已复制到远程位置的一致性组创建克隆。

[role="tabbed-block"]
====
.使用本地快照克隆
--
.步骤
. 在System Manager中、选择*保护>一致性组*。
. 将鼠标悬停在要克隆的一致性组上。
. 选择image:icon_kabob.gif["三个垂直蓝点"]，然后选择*Clone。
. 输入一致性组克隆的名称或接受默认名称。
. 选择主机操作系统。
. 如果要解除克隆与源一致性组的关联并分配磁盘空间、请选择*拆分克隆*。
. 如果要使用现有快照、创建新主机组或为克隆添加新主机，请选择*更多选项*。
+
[cols="2"]
|===
| 选项 | 步骤 


 a| 
使用现有快照
 a| 
.. 在*要克隆的快照*下，选择*使用现有快照*。
.. 选择要用于克隆的快照。




 a| 
创建新主机组
 a| 
.. 在*主机映射*下，选择*新主机组*。
.. 输入新主机组的名称；然后选择要包含在该组中的主机启动程序。




 a| 
添加新主机
 a| 
.. 在*主机映射*下，选择*新主机*。
.. 输入名称新主机名；然后选择*FC*或*iSCSI*。
.. 从现有启动程序列表中选择主机启动程序或选择*添加启动程序*为主机添加新启动程序。


|===
. 选择 * 克隆 * 。


--
.使用远程快照克隆
--
.步骤
. 在System Manager中，选择*保护>复制*。
. 将鼠标悬停在要克隆的*Source*上。
. 选择image:icon_kabob.gif["三个垂直蓝点"]，然后选择*Clone。
. 选择源集群和Storage VM；然后输入新一致性组的名称或接受默认名称。
. 选择要克隆的快照；然后选择*Clone。


.下一步是什么？
您已从远程位置克隆一致性组。新的一致性组可在ASA R2系统上本地使用、以便根据需要使用。

--
====
.下一步是什么？
要保护数据、您应link:../data-protection/create-snapshots.html#step-2-create-a-snapshot["创建快照"]属于克隆的一致性组。
